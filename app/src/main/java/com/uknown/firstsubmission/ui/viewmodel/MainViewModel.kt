package com.uknown.firstsubmission.ui.viewmodelimport android.app.Applicationimport android.util.Logimport android.widget.Toastimport androidx.lifecycle.AndroidViewModelimport androidx.lifecycle.LiveDataimport androidx.lifecycle.MutableLiveDataimport com.uknown.firstsubmission.network.response.UserResponseimport com.uknown.firstsubmission.network.retorfit.ApiConfigurationimport retrofit2.Callimport retrofit2.Callbackimport retrofit2.Responseclass MainViewModel(@get:JvmName("getMainViewModel")val application: Application) : AndroidViewModel(application) {    companion object {        private const val MAIN = "Main View Model"    }    private val _userResponse = MutableLiveData<UserResponse>()    var userResponse : LiveData<UserResponse> = _userResponse    private val _isLoading = MutableLiveData<Boolean>()    var isLoading: LiveData<Boolean> = _isLoading    init {        getSpesificUserData("Arif")    }    fun getSpesificUserData(username: String) {        _isLoading.value = true        val call = ApiConfiguration.getApiService().searchUser(username)        call.enqueue(object: Callback<UserResponse> {            override fun onResponse(call: Call<UserResponse>, response: Response<UserResponse>) {                if (response.isSuccessful) {                    _isLoading.value = false                    response.body()?.let {                        _userResponse.value = it                    }                } else {                    Toast.makeText(application.applicationContext.applicationContext, response.message(), Toast.LENGTH_SHORT).show()                    Log.w(MAIN,  response.message())                }            }            override fun onFailure(call: Call<UserResponse>, t: Throwable) {                _isLoading.value = false                Toast.makeText(application.applicationContext.applicationContext, t.message.toString(), Toast.LENGTH_SHORT).show()                Log.e(MAIN, t.message.toString())                t.stackTrace            }        })    }}